{"remainingRequest":"/Users/sabahathussain/Desktop/HoMakes/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/Users/sabahathussain/Desktop/HoMakes/node_modules/firebase/database/core/stats/StatsReporter.js","dependencies":[{"path":"/Users/sabahathussain/Desktop/HoMakes/node_modules/firebase/database/core/stats/StatsReporter.js","mtime":1501189652000},{"path":"/Users/sabahathussain/Desktop/HoMakes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sabahathussain/Desktop/HoMakes/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["/*! @license Firebase v4.2.0\nBuild: rev-d6b2db4\nTerms: https://firebase.google.com/terms/ */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.StatsReporter = undefined;\n\nvar _obj = require('../../../utils/obj');\n\nvar _util = require('../util/util');\n\nvar _StatsListener = require('./StatsListener');\n\n// Assuming some apps may have a short amount of time on page, and a bulk of firebase operations probably\n// happen on page load, we try to report our first set of stats pretty quickly, but we wait at least 10\n// seconds to try to ensure the Firebase connection is established / settled.\nvar FIRST_STATS_MIN_TIME = 10 * 1000; /**\n                                      * Copyright 2017 Google Inc.\n                                      *\n                                      * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                      * you may not use this file except in compliance with the License.\n                                      * You may obtain a copy of the License at\n                                      *\n                                      *   http://www.apache.org/licenses/LICENSE-2.0\n                                      *\n                                      * Unless required by applicable law or agreed to in writing, software\n                                      * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                      * See the License for the specific language governing permissions and\n                                      * limitations under the License.\n                                      */\n\nvar FIRST_STATS_MAX_TIME = 30 * 1000;\n// We'll continue to report stats on average every 5 minutes.\nvar REPORT_STATS_INTERVAL = 5 * 60 * 1000;\n/**\n * @constructor\n */\nvar StatsReporter = function () {\n    /**\n     * @param collection\n     * @param server_\n     */\n    function StatsReporter(collection, server_) {\n        this.server_ = server_;\n        this.statsToReport_ = {};\n        this.statsListener_ = new _StatsListener.StatsListener(collection);\n        var timeout = FIRST_STATS_MIN_TIME + (FIRST_STATS_MAX_TIME - FIRST_STATS_MIN_TIME) * Math.random();\n        (0, _util.setTimeoutNonBlocking)(this.reportStats_.bind(this), Math.floor(timeout));\n    }\n    StatsReporter.prototype.includeStat = function (stat) {\n        this.statsToReport_[stat] = true;\n    };\n    StatsReporter.prototype.reportStats_ = function () {\n        var _this = this;\n        var stats = this.statsListener_.get();\n        var reportedStats = {};\n        var haveStatsToReport = false;\n        (0, _obj.forEach)(stats, function (stat, value) {\n            if (value > 0 && (0, _obj.contains)(_this.statsToReport_, stat)) {\n                reportedStats[stat] = value;\n                haveStatsToReport = true;\n            }\n        });\n        if (haveStatsToReport) {\n            this.server_.reportStats(reportedStats);\n        }\n        // queue our next run.\n        (0, _util.setTimeoutNonBlocking)(this.reportStats_.bind(this), Math.floor(Math.random() * 2 * REPORT_STATS_INTERVAL));\n    };\n    return StatsReporter;\n}();\nexports.StatsReporter = StatsReporter;\n//# sourceMappingURL=StatsReporter.js.map\n",null]}