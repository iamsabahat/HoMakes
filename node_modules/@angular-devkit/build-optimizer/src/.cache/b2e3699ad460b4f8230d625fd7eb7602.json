{"remainingRequest":"/Users/sabahathussain/Desktop/HoMakes/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/Users/sabahathussain/Desktop/HoMakes/node_modules/firebase/database/core/util/ServerValues.js","dependencies":[{"path":"/Users/sabahathussain/Desktop/HoMakes/node_modules/firebase/database/core/util/ServerValues.js","mtime":1501189652000},{"path":"/Users/sabahathussain/Desktop/HoMakes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sabahathussain/Desktop/HoMakes/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["/*! @license Firebase v4.2.0\nBuild: rev-d6b2db4\nTerms: https://firebase.google.com/terms/ */\n\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.resolveDeferredValueSnapshot = exports.resolveDeferredValueTree = exports.resolveDeferredValue = exports.generateWithValues = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                              * Copyright 2017 Google Inc.\n                                                                                                                                                                                                                                                                              *\n                                                                                                                                                                                                                                                                              * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                                                                                                                                                                                                                                              * you may not use this file except in compliance with the License.\n                                                                                                                                                                                                                                                                              * You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                              *\n                                                                                                                                                                                                                                                                              *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                              *\n                                                                                                                                                                                                                                                                              * Unless required by applicable law or agreed to in writing, software\n                                                                                                                                                                                                                                                                              * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                                                                                                                                                                                                                                              * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                                                                                                                                                                                                                                              * See the License for the specific language governing permissions and\n                                                                                                                                                                                                                                                                              * limitations under the License.\n                                                                                                                                                                                                                                                                              */\n\n\nvar _assert = require('../../../utils/assert');\n\nvar _Path = require('./Path');\n\nvar _SparseSnapshotTree = require('../SparseSnapshotTree');\n\nvar _LeafNode = require('../snap/LeafNode');\n\nvar _nodeFromJSON = require('../snap/nodeFromJSON');\n\nvar _PriorityIndex = require('../snap/indexes/PriorityIndex');\n\n/**\n * Generate placeholders for deferred values.\n * @param {?Object} values\n * @return {!Object}\n */\nvar generateWithValues = exports.generateWithValues = function generateWithValues(values) {\n    values = values || {};\n    values['timestamp'] = values['timestamp'] || new Date().getTime();\n    return values;\n};\n/**\n * Value to use when firing local events. When writing server values, fire\n * local events with an approximate value, otherwise return value as-is.\n * @param {(Object|string|number|boolean)} value\n * @param {!Object} serverValues\n * @return {!(string|number|boolean)}\n */\nvar resolveDeferredValue = exports.resolveDeferredValue = function resolveDeferredValue(value, serverValues) {\n    if (!value || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') {\n        return value;\n    } else {\n        (0, _assert.assert)('.sv' in value, 'Unexpected leaf node or priority contents');\n        return serverValues[value['.sv']];\n    }\n};\n/**\n * Recursively replace all deferred values and priorities in the tree with the\n * specified generated replacement values.\n * @param {!SparseSnapshotTree} tree\n * @param {!Object} serverValues\n * @return {!SparseSnapshotTree}\n */\nvar resolveDeferredValueTree = exports.resolveDeferredValueTree = function resolveDeferredValueTree(tree, serverValues) {\n    var resolvedTree = new _SparseSnapshotTree.SparseSnapshotTree();\n    tree.forEachTree(new _Path.Path(''), function (path, node) {\n        resolvedTree.remember(path, resolveDeferredValueSnapshot(node, serverValues));\n    });\n    return resolvedTree;\n};\n/**\n * Recursively replace all deferred values and priorities in the node with the\n * specified generated replacement values.  If there are no server values in the node,\n * it'll be returned as-is.\n * @param {!Node} node\n * @param {!Object} serverValues\n * @return {!Node}\n */\nvar resolveDeferredValueSnapshot = exports.resolveDeferredValueSnapshot = function resolveDeferredValueSnapshot(node, serverValues) {\n    var rawPri = node.getPriority().val();\n    var priority = resolveDeferredValue(rawPri, serverValues);\n    var newNode;\n    if (node.isLeafNode()) {\n        var leafNode = node;\n        var value = resolveDeferredValue(leafNode.getValue(), serverValues);\n        if (value !== leafNode.getValue() || priority !== leafNode.getPriority().val()) {\n            return new _LeafNode.LeafNode(value, (0, _nodeFromJSON.nodeFromJSON)(priority));\n        } else {\n            return node;\n        }\n    } else {\n        var childrenNode = node;\n        newNode = childrenNode;\n        if (priority !== childrenNode.getPriority().val()) {\n            newNode = newNode.updatePriority(new _LeafNode.LeafNode(priority));\n        }\n        childrenNode.forEachChild(_PriorityIndex.PRIORITY_INDEX, function (childName, childNode) {\n            var newChildNode = resolveDeferredValueSnapshot(childNode, serverValues);\n            if (newChildNode !== childNode) {\n                newNode = newNode.updateImmediateChild(childName, newChildNode);\n            }\n        });\n        return newNode;\n    }\n};\n//# sourceMappingURL=ServerValues.js.map\n",null]}